(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{109:function(e,t,n){e.exports=n(148)},148:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(15),i=n.n(l),o=n(10),c=n(11),s=n(13),u=n(12),d=n(8),m=n(14),h=n(4),f=n(58),b=n(107),p=n.n(b),E=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(h.q,{type:"dark",theme:"primary"},r.a.createElement(h.r,{href:"#"},r.a.createElement("span",{style:{fontWeight:"bold"}},"Illusion of Gaia Randomizer"),r.a.createElement("span",{style:{marginLeft:20}},"v1.5.1")),r.a.createElement(h.n,{navbar:!0},r.a.createElement(h.o,null,r.a.createElement(h.p,{href:"https://www.github.com/dontbagume/iogr"},r.a.createElement(f.b,{color:"white",size:"30"})))))}}]),t}(r.a.Component),g=n(34),O=n.n(g),j=n(65),y=n(5),v=function e(){var t=this;Object(o.a)(this,e),this.isProcessing=!1,this.isError=!1,this.errorText=null,this.difficulty="normal",this.goal="Dark Gaia",this.variant="None",this.mode="Completable",this.firebird=!1,this.seed=0,this.setError=Object(y.d)("setError",function(e){t.isError=!0,t.errorText=e}),this.clearError=Object(y.d)("clearError",function(){t.isError=!1}),this.setProcessing=Object(y.d)("setProcessing",function(){t.isProcessing=!0}),this.clearProcessing=Object(y.d)("clearProcessing",function(){t.isProcessing=!1}),this.setSeed=Object(y.d)("setSeed",function(e){t.seed=e}),this.setDifficulty=Object(y.d)("setDifficulty",function(e){t.difficulty=e}),this.setGoal=Object(y.d)("setGoal",function(e){t.goal=e}),this.setVariant=Object(y.d)("setVariant",function(e){t.variant=e}),this.setMode=Object(y.d)("setMode",function(e){t.mode=e}),this.setFirebird=Object(y.d)("setFirebird",function(e){t.firebird=e})};Object(y.h)(v,{isProcessing:y.m,isError:y.m,errorText:y.m,seed:y.m,difficulty:y.m,goal:y.m,mode:y.m,variant:y.m,firebird:y.m});var k=new v,w=n(21),C=Object(w.a)(function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={showDownload:!1,romUri:null,romName:null,spoilerUri:null,spoilerName:null},n.handleSubmit=n.handleSubmit.bind(Object(d.a)(n)),n.handleDownloadRom=n.handleDownloadRom.bind(Object(d.a)(n)),n.handleDownloadSpoiler=n.handleDownloadSpoiler.bind(Object(d.a)(n)),n.generateSeed=n.generateSeed.bind(Object(d.a)(n)),n.requestSeed=n.requestSeed.bind(Object(d.a)(n)),n.requestSpoiler=n.requestSpoiler.bind(Object(d.a)(n)),n.fileInput=r.a.createRef(),n.seedInput=r.a.createRef(),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"generateSeed",value:function(){var e=Object(j.a)(O.a.mark(function e(t){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return k.setProcessing(),e.prev=1,e.next=4,this.requestSeed(t);case 4:return e.next=6,this.requestSpoiler();case 6:k.clearProcessing(),k.clearError(),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),k.clearProcessing(),k.setError("Whoops! Something went wrong!"),console.log(e.t0);case 15:case"end":return e.stop()}},e,this,[[1,10]])}));return function(t){return e.apply(this,arguments)}}()},{key:"requestSeed",value:function(){var e=Object(j.a)(O.a.mark(function e(t){var n,a,r,l,i;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.buildFormData(t),e.next=3,fetch("api/seed",{method:"POST",body:n});case 3:return a=e.sent,r=this.parseResponse(a,"filename"),l=this.parseResponse(a,"seed"),e.next=8,a.blob();case 8:i=e.sent,k.setSeed(l),this.setState({showDownload:!0,romUri:window.URL.createObjectURL(i),romName:r});case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"requestSpoiler",value:function(){var e=Object(j.a)(O.a.mark(function e(){var t,n,a,r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=k.seed,e.next=3,fetch("api/seed/".concat(t,"/spoiler"),{method:"GET"});case 3:return n=e.sent,e.next=6,n.blob();case 6:a=e.sent,r=this.parseResponse(n,"filename"),this.setState({spoilerUri:window.URL.createObjectURL(a),spoilerName:r});case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(e){if(e.preventDefault(),0!==this.fileInput.current.files.length)if(isNaN(k.seed)||k.seed<0)k.setError("Hey, man. You need to enter a valid non-negative integer for a seed!");else{var t=this.fileInput.current.files[0];this.generateSeed(t)}else k.setError("Hey, man. You need to upload a ROM file.")}},{key:"handleDownloadRom",value:function(){var e=this.state,t=e.romUri,n=e.romName,a=document.createElement("a");document.body.appendChild(a),a.style="display: none",a.href=t,a.download=n,a.click(),a.remove()}},{key:"handleDownloadSpoiler",value:function(){var e=this.state,t=e.spoilerUri,n=e.spoilerName,a=document.createElement("a");document.body.appendChild(a),a.style="display: none",a.href=t,a.download=n,a.click(),a.remove()}},{key:"handleRandomizeSeed",value:function(){var e=Math.floor(2147483649*Math.random())+0;k.setSeed(e)}},{key:"render",value:function(){var e=this.state.showDownload;return r.a.createElement(h.f,null,r.a.createElement(h.b,null,r.a.createElement(h.c,null,r.a.createElement(h.d,null,"Rom Details"),r.a.createElement(h.s,null,r.a.createElement(h.g,null,r.a.createElement(h.h,null,r.a.createElement("label",null," ROM File (*.sfc):",r.a.createElement("input",{required:!0,className:"form-control",type:"file",ref:this.fileInput}))),r.a.createElement(h.h,null,r.a.createElement("label",null," Seed:",r.a.createElement(h.i,{value:k.seed,onChange:function(e){return k.setSeed(e.target.value)},type:"text"})),r.a.createElement(h.a,{onClick:this.handleRandomizeSeed,style:{marginLeft:10}},"Randomize Seed")),r.a.createElement(h.a,{type:"submit",onClick:this.handleSubmit},"Generate ROM"))),e&&r.a.createElement(h.s,{style:{marginTop:20}},r.a.createElement(h.a,{onClick:this.handleDownloadRom},"Download Randomized ROM"),r.a.createElement(h.a,{onClick:this.handleDownloadSpoiler,style:{marginLeft:10}},"Download Spoiler Log")))))}},{key:"buildFormData",value:function(e){var t=new FormData;return t.append(null,e),t.append("seed",0===k.seed?null:k.seed),t.append("difficulty",k.difficulty),t.append("goal",k.goal),t.append("variant",k.variant),t.append("mode",k.mode),t.append("firebird",k.firebird),t}},{key:"parseResponse",value:function(e,t){for(var n=e.headers.get("content-disposition").split(";"),a=0;a<n.length;++a){var r=n[a].indexOf(t);if(r>-1)return n[a].substring(r+t.length+1)}return null}}]),t}(r.a.Component)),D=Object(w.a)(function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).changeDifficulty=n.changeDifficulty.bind(Object(d.a)(n)),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"changeDifficulty",value:function(e){k.setDifficulty(e)}},{key:"render",value:function(){var e=this;return r.a.createElement(h.f,null,r.a.createElement(h.b,null,r.a.createElement(h.c,null,r.a.createElement(h.d,null,"Difficulty"),r.a.createElement(h.j,{inline:!0,name:"easy",checked:"easy"===k.difficulty,onChange:function(){e.changeDifficulty("easy")}},"Easy"),r.a.createElement(h.j,{inline:!0,name:"normal",checked:"normal"===k.difficulty,onChange:function(){e.changeDifficulty("normal")}},"Normal"),r.a.createElement(h.j,{inline:!0,name:"hard",checked:"hard"===k.difficulty,onChange:function(){e.changeDifficulty("hard")}},"Hard"),r.a.createElement(h.j,{inline:!0,name:"extreme",checked:"extreme"===k.difficulty,onChange:function(){e.changeDifficulty("extreme")}},"Extreme"))))}}]),t}(r.a.Component)),S=Object(w.a)(function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).setGoal=n.setGoal.bind(Object(d.a)(n)),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"setGoal",value:function(e){k.setGoal(e)}},{key:"render",value:function(){var e=this;return r.a.createElement(h.f,{style:{marginTop:20}},r.a.createElement(h.b,null,r.a.createElement(h.c,null,r.a.createElement(h.d,null,"Goal"),r.a.createElement(h.j,{inline:!0,name:"Dark Gaia",checked:"Dark Gaia"===k.goal,onChange:function(){e.setGoal("Dark Gaia")}},"Dark Gaia"),r.a.createElement(h.j,{inline:!0,name:"Red Jewel Hunt",checked:"Red Jewel Hunt"===k.goal,onChange:function(){e.setGoal("Red Jewel Hunt")}},"Red Jewel Hunt"),r.a.createElement(h.j,{inline:!0,name:"Random",checked:"Random"===k.goal,onChange:function(){e.setGoal("Random")}},"Random"))))}}]),t}(r.a.Component)),R=Object(w.a)(function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).setVariant=n.setVariant.bind(Object(d.a)(n)),n.setMode=n.setMode.bind(Object(d.a)(n)),n.setFirebird=n.toggleFirebird.bind(Object(d.a)(n)),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"setVariant",value:function(e){k.setVariant(e)}},{key:"setMode",value:function(e){k.setMode(e)}},{key:"toggleFirebird",value:function(){k.setFirebird(!k.firebird)}},{key:"render",value:function(){var e=this;return r.a.createElement(h.f,{style:{marginTop:20}},r.a.createElement(h.b,null,r.a.createElement(h.c,null,r.a.createElement(h.d,null,"Variations"),r.a.createElement(h.h,null,r.a.createElement(h.j,{inline:!0,name:"None",checked:"None"===k.variant,onChange:function(){e.setVariant("None")}},"None"),r.a.createElement(h.j,{inline:!0,name:"OHKO",checked:"OHKO"===k.variant,onChange:function(){e.setVariant("OHKO")}},"One Hit KO")),r.a.createElement(h.h,null,r.a.createElement(h.j,{inline:!0,name:"Completable",checked:"Completable"===k.mode,onChange:function(){e.setMode("Completable")}},"Completable"),r.a.createElement(h.j,{inline:!0,name:"Beatable",checked:"Beatable"===k.mode,onChange:function(){e.setMode("Beatable")}},"Beatable"),r.a.createElement(h.j,{inline:!0,name:"Chaos",checked:"Chaos"===k.mode,onChange:function(){e.setMode("Chaos")}},"Chaos")))))}}]),t}(r.a.Component)),x=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(h.f,null,r.a.createElement(D,null),r.a.createElement(S,null),r.a.createElement(R,null))}}]),t}(r.a.Component),G=Object(w.a)(function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).clearError=n.clearError.bind(Object(d.a)(n)),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"clearError",value:function(){k.clearError()}},{key:"render",value:function(){var e=k.isError,t=k.errorText,n=k.isProcessing;return r.a.createElement(a.Fragment,null,r.a.createElement(E,null),r.a.createElement(h.f,null,r.a.createElement(h.s,{style:{marginTop:20}},r.a.createElement(h.e,null,r.a.createElement(C,null)),r.a.createElement(h.e,null,r.a.createElement(x,null)))),e&&r.a.createElement(h.k,{open:e,toggle:this.clearError},r.a.createElement(h.m,null,"Whoops"),r.a.createElement(h.l,null,r.a.createElement(f.a,{color:"red",style:{verticalAlign:"center"}})," ",t)),n&&r.a.createElement(h.k,{open:n,toggle:function(){}},r.a.createElement(h.m,null,"Generating Seed"),r.a.createElement(h.l,{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},r.a.createElement(p.a,{sizeUnit:"px",size:150,color:"#123abc",loading:!0}),r.a.createElement("span",null,"Loading..."))))}}]),t}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(146),n(147);i.a.render(r.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[109,1,2]]]);
//# sourceMappingURL=main.4f1de91b.chunk.js.map